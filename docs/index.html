<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Page Title</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.min.css"/>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/theme/white.min.css"/>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/css/zenburn.min.css"/>
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.7.1/css/bulma.min.css"/>
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.1/css/all.css"
        integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ"
        crossorigin="anonymous">
  <link rel="stylesheet" href="main.css"/>
</head>
<body>
<div class="reveal">
  <div class="slides">
    <!-- Title slide -->
    <section>
      <h1 class="title is-1">Altair</h1>
      <h2 class="subtitle is-3">The new kid on the block</h2>
      <img src="images/altair_gallery.png">

      <div class="columns">
        <a href="https://github.com/andersbogsnes/altair_demo">
          <span class="icon"><i class="fab fa-github" aria-hidden="true"></i></span>
          https://github.com/andersbogsnes/altair_demo
        </a>
      </div>
    </section>

    <!-- What is Altair? -->
    <section>
      <section>
        <h1>What is Altair?</h1>
      </section>

      <section>
        <div class="content">
          <blockquote>
            Altair is a <b>declarative</b> statistical <b>visualization</b> library for
            <b>Python</b>, based on <b>Vega</b> and <b>Vega-lite</b>
          </blockquote>
          <cite class="is-italic"><a href="https://altair-viz.github.io/">https://altair-viz.github.io</a></cite>
        </div>
      </section>

      <section>
        <div class="columns">
          <div class="column">
            <img src="images/jvp.jpeg" style="height: auto; width: 320px">
          </div>
          <div class="column text-center">
            <p>Written by Jake Vanderplas...</p>
          </div>
        </div>

      </section>

      <section>
        <div class="columns">
          <div class="column">
            <img src="images/python_data_science.jpg" style="width: 320px; height: auto;">
          </div>
          <div class="column">
            <p>...who also wrote this!</p>
            <small>I get no kickbacks - yet!</small>
          </div>
        </div>

      </section>
    </section>

    <!-- Why another library? -->
    <section>
      <section>
        <h1 class="title">Another viz library?</h1>
      </section>
      <section>
        <p>Surveying the existing landscape</p>
      </section>
      <section>
        <img src="images/matplotlib.png">
        <div class="columns">
          <div class="column">
            <h2>Pros</h2>
            <ul>
              <li class="fragment" data-fragment-index="1">The Grand Old Daddy!</li>
              <li class="fragment" data-fragment-index="3">Can do anything!</li>
              <li class="fragment" data-fragment-index="5">Supports all the backends!</li>
            </ul>
          </div>
          <div class="column">
            <h2>Cons</h2>
            <ul>
              <li class="fragment" data-fragment-index="2">...and it shows</li>
              <li class="fragment" data-fragment-index="4">...but you have to do it</li>
              <li class="fragment" data-fragment-index="6">...except the web</li>
            </ul>
          </div>
        </div>
      </section>

      <section>
        <p>Seaborn</p>
      </section>
      <section>
        <p>Plotly</p>
      </section>

      <section>
        <p>Bokeh</p>
      </section>

    </section>
    <!-- What does declarative mean? -->
    <section>
      <section>
        <h2>Declarative visualizations</h2>
      </section>

      <section>
        <img src="images/do_as_I_say.jpg">
      </section>

      <section>
        <p>How do we accomplish this?</p>
      </section>

      <section>
        <h1>The Grammar of graphics</h1>
        <div class="fragment">
          <div class="columns">
            <div class="column">
              <figure class="image is-re">
                <img src="images/grammarofgraphics_crop.jpg"
                     style="width: 320px; height: 360px; border:none">
              </figure>
            </div>
            <div class="column">
              <ul>
                <li class="fragment"><p>Lays out a vocabulary for describing graphics</p></li>
                <li class="fragment"><p>Foundation of many visualization libraries - most famously
                  ggplot</p></li>
              </ul>
            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="columns">
          <div class="column">
            <figure class="image is-re">
              <img src="images/grammarofgraphics_crop.jpg"
                   style="width: 320px; height: 360px; border:none">
            </figure>
          </div>
          <div class="column">
            <p style="text-align: left">Lays out the building blocks of visualizations:</p>
            <ol>
              <li class="fragment"><b>Data</b></li>
              <li class="fragment"><b>Transformation</b></li>
              <li class="fragment"><b>Marks</b></li>
              <li class="fragment"><b>Encoding</b></li>
              <li class="fragment"><b>Scale</b></li>
              <li class="fragment"><b>Guides</b></li>
            </ol>
          </div>
        </div>
      </section>

    </section>

    <!-- Demo -->
    <section>
      <h1>Demo Time!</h1>
    </section>

    <!-- Vega and vega-lite -->
    <section>
      <section>
        <p>Vega and Vega-lite?</p>
        <p class="fragment">If you want interactive graphics - you gotta live in the browser...</p>
      </section>

      <section>
        <p>Altair - Python</p>
        <img src="images/down_arrow.jpg" style="height: 60px; width: auto" class="fragment">
      </section>

      <section>
        <p>Vega-lite - JSON</p>
        <div class="columns">
          <div class="column is-centered">
            <img src="images/vega_lite_json.png">
          </div>
        </div>

        <div class="columns">
          <div class="column is-centered">
            <img src="images/down_arrow.jpg" style="height: 60px; width: auto" class="fragment">
          </div>
        </div>
      </section>

      <section>
        <p>Vega - JSON</p>
        <pre><code data-noescape data-notrim>
              {
  "$schema": "https://vega.github.io/schema/vega/v4.json",
  "width": 400,
  "height": 200,
  "padding": 5,

  "data": [
    {
      "name": "table",
      "values": [
        {"category": "A", "amount": 28},
        {"category": "B", "amount": 55},
        {"category": "C", "amount": 43},
        {"category": "D", "amount": 91},
        {"category": "E", "amount": 81},
        {"category": "F", "amount": 53},
        {"category": "G", "amount": 19},
        {"category": "H", "amount": 87}
      ]
    }
  ],

  "signals": [
    {
      "name": "tooltip",
      "value": {},
      "on": [
        {"events": "rect:mouseover", "update": "datum"},
        {"events": "rect:mouseout",  "update": "{}"}
      ]
    }
  ],

  "scales": [
    {
      "name": "xscale",
      "type": "band",
      "domain": {"data": "table", "field": "category"},
      "range": "width",
      "padding": 0.05,
      "round": true
    },
    {
      "name": "yscale",
      "domain": {"data": "table", "field": "amount"},
      "nice": true,
      "range": "height"
    }
  ],

  "axes": [
    { "orient": "bottom", "scale": "xscale" },
    { "orient": "left", "scale": "yscale" }
  ],

  "marks": [
    {
      "type": "rect",
      "from": {"data":"table"},
      "encode": {
        "enter": {
          "x": {"scale": "xscale", "field": "category"},
          "width": {"scale": "xscale", "band": 1},
          "y": {"scale": "yscale", "field": "amount"},
          "y2": {"scale": "yscale", "value": 0}
        },
        "update": {
          "fill": {"value": "steelblue"}
        },
        "hover": {
          "fill": {"value": "red"}
        }
      }
    },
    {
      "type": "text",
      "encode": {
        "enter": {
          "align": {"value": "center"},
          "baseline": {"value": "bottom"},
          "fill": {"value": "#333"}
        },
        "update": {
          "x": {"scale": "xscale", "signal": "tooltip.category", "band": 0.5},
          "y": {"scale": "yscale", "signal": "tooltip.amount", "offset": -2},
          "text": {"signal": "tooltip.amount"},
          "fillOpacity": [
            {"test": "datum === tooltip", "value": 0},
            {"value": 1}
          ]
        }
      }
    }
  ]
}

            </code></pre>

      </section>
      <section>
        <p>D3 - JavaScript</p>
        <pre><code data-trim data-noescape>
    var svg = d3.select("svg"),
        margin = {top: 20, right: 20, bottom: 30, left: 40},
        width = +svg.attr("width") - margin.left - margin.right,
        height = +svg.attr("height") - margin.top - margin.bottom;

    var x = d3.scaleBand().rangeRound([0, width]).padding(0.1),
        y = d3.scaleLinear().rangeRound([height, 0]);

    var g = svg.append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

    d3.tsv("data.tsv", function(d) {
      d.frequency = +d.frequency;
      return d;
    }, function(error, data) {
      if (error) throw error;

      x.domain(data.map(function(d) { return d.letter; }));
      y.domain([0, d3.max(data, function(d) { return d.frequency; })]);

      g.append("g")
          .attr("class", "axis axis--x")
          .attr("transform", "translate(0," + height + ")")
          .call(d3.axisBottom(x));

      g.append("g")
          .attr("class", "axis axis--y")
          .call(d3.axisLeft(y).ticks(10, "%"))
        .append("text")
          .attr("transform", "rotate(-90)")
          .attr("y", 6)
          .attr("dy", "0.71em")
          .attr("text-anchor", "end")
          .text("Frequency");

      g.selectAll(".bar")
        .data(data)
        .enter().append("rect")
          .attr("class", "bar")
          .attr("x", function(d) { return x(d.letter); })
          .attr("y", function(d) { return y(d.frequency); })
          .attr("width", x.bandwidth())
          .attr("height", function(d) { return height - y(d.frequency); });
    });
        </code></pre>
      </section>


    </section>
    
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
<script>
  // More info about config & dependencies:
  Reveal.initialize({
    progress: false,
    dependencies: [
      {
        src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.min.js',
        async: true,
        callback: function () {
          hljs.initHighlightingOnLoad();
        }
      }
    ]
  });
</script>

</body>
</html>